---
import Link from "@/components/Text/Marks/Link.astro";
import { PortableText } from "astro-portabletext";
import { mergeComponents } from "astro-portabletext/utils";

type PortableTextProps = Parameters<typeof PortableText>[0];
export type Props = {
  className?: PortableTextProps["class"];
  value: PortableTextProps["value"] | undefined;
  components?: PortableTextProps["components"];
};
const { value, className, components: overrideComponents = {} } = Astro.props;
---

<PortableText
  value={value || []}
  class={className}
  components={mergeComponents(
    {
      mark: {
        link: Link,
        internalLink: Link,
        download: Link,
      },
    },
    overrideComponents
  )}
/>
